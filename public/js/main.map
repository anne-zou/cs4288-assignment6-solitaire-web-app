{"version":3,"sources":["webpack:///./components/header.js","webpack:///./main.js","webpack:///./components/landing.js","webpack:///./components/login.js","webpack:///./components/logout.js","webpack:///./components/register.js","webpack:///./components/profile.js","webpack:///./components/start.js","webpack:///./components/results.js","webpack:///./components/game.js","webpack:///./components/pile.js","webpack:///./components/card.css?59bb","webpack:///./components/card.css","webpack:///./app.css?f23f","webpack:///./app.css"],"names":["GravHash","email","size","hash","replace","toLowerCase","Header","props","onClick","bind","user","getUser","username","history","push","right","primary_email","require","MyApp","User","window","__PRELOADED_STATE__","loggedIn","data","router","document","getElementById","Landing","Login","onSubmit","ev","preventDefault","value","password","$","ajax","url","method","then","logIn","fail","errorEl","innerHTML","err","responseJSON","error","Logout","logOut","Register","first_name","last_name","city","$error","pwdInvalid","validPassword","length","match","html","undefined","Game","game","index","date","Date","start","active","id","toLocaleString","moves","score","Profile","state","games","setState","fetchUser","params","nextProps","isUser","map","Start","selected","onChange","draw","color","target","Move","move","duration","now","player","Results","cards_remaining","startDrag","x","y","pile1","pile2","pile3","pile4","pile5","pile6","pile7","stack1","stack2","stack3","stack4","discard","onBackgroundClick","onTableauPileClick","onFoundationPileClick","onDrawPileClick","onDiscardPileClick","verifyMoveToTableau","verifyMoveToFoundation","validateAndMakeMove","onAutocompleteClick","autocomplete","newState","console","log","drawCount","stopPropagation","drawPile","discardPile","num","cards","slice","reverse","suit","card","up","src","dst","targetAttributes","split","targetSuit","targetRank","targetid","isEmptyPile","startsWith","thisStackId","dataset","pileid","thisStack","targetCardAttributes","targetCardSuit","targetCardRank","thisPileId","thisPile","i","bottomCardSuit","bottomCardRank","topCardSuit","topCardRank","ranks","nextIndex","indexOf","higherCardSuit","higherCardRank","lowerCardSuit","lowerCardRank","redSuits","blackSuits","includes","JSON","stringify","autocompleteMoves","filter","setTimeout","Card","top","left","pileId","source","style","Pile","horizontal","spacing","className","propTypes","arrayOf","object","isRequired","func","bool","number","maxCards","defaultProps"],"mappings":"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","file":"main.js","sourcesContent":["/* Copyright G. Hemingway, 2017 - All rights reserved */\n'use strict';\n\n\nimport React, { Component }     from 'react';\nimport { Link, withRouter }  from 'react-router-dom';\n\nimport md5                      from 'md5';\n\n/*************************************************************************/\n\nexport function GravHash(email, size) {\n    let hash = email.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n    hash = hash.toLowerCase();\n    hash = md5(hash);\n    return `https://www.gravatar.com/avatar/${hash}?size=${size}`;\n}\n\nclass Header extends Component {\n    constructor(props) {\n        super(props);\n        this.onClick = this.onClick.bind(this);\n    }\n\n    onClick() {\n        const { username } = this.props.user.getUser();\n        this.props.history.push(`/profile/${username}`);\n    }\n\n    render() {\n        const user = this.props.user.getUser();\n        const right = user.username !== '' ?\n            <div className=\"header\">\n                <Link to=\"/logout\">Log Out</Link>\n                <img src={GravHash(user.primary_email, 40)} onClick={this.onClick}/>\n            </div>:\n            <div className=\"col-xs-4 right-nav\">\n                <Link to=\"/login\">Log In</Link>\n                <Link to=\"/register\">Register</Link>\n            </div>;\n        return <nav className=\"navbar navbar-default navbar-static-top\">\n            <div className=\"col-xs-8\">\n                <h2>Graham's Solitaire</h2>\n            </div>\n            {right}\n        </nav>\n    }\n}\n\nexport default withRouter(Header);\n\n\n// WEBPACK FOOTER //\n// ./components/header.js","/* Copyright G. Hemingway, 2017 - All rights reserved */\n\"use strict\";\n\n// Necessary modules\nimport React, { Component }     from 'react';\nimport { render }               from 'react-dom';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\n\nimport Header                   from './components/header';\nimport Landing                  from './components/landing';\nimport Login                    from './components/login';\nimport Logout                   from './components/logout';\nimport Register                 from './components/register';\nimport Profile                  from './components/profile';\nimport Start                    from './components/start';\nimport Results                  from './components/results';\nimport Game                     from './components/game';\n\n// Bring app CSS into the picture\nrequire('./app.css');\n\n/*************************************************************************/\n\nclass MyApp extends Component {\n    constructor(props) {\n        super(props);\n        this.user = new User(\n            window.__PRELOADED_STATE__.username,\n            window.__PRELOADED_STATE__.primary_email\n        );\n    }\n\n    render() {\n        return <BrowserRouter>\n            <div>\n                <Header user={this.user}/>\n                <Route exact path=\"/\" component={Landing}/>\n                <Route path=\"/login\" render={() => {\n                    return this.user.loggedIn() ?\n                        <Redirect to={`/profile/${this.user.username()}`}/> :\n                        <Login user={this.user}/>\n                }}/>\n                <Route path=\"/register\" render={() => {\n                    return this.user.loggedIn() ?\n                        <Redirect to={`/profile/${this.user.username()}`}/> :\n                        <Register/>;\n                }}/>\n                <Route path=\"/logout\" render={props => <Logout user={this.user}/>}/>\n                <Route path=\"/profile/:username\" render={props => <Profile user={this.user}/>}/>\n                <Route path=\"/start\" render={() => {\n                    return this.user.loggedIn() ?\n                        <Start/> :\n                        <Redirect to={'/login'}/>;\n                }}/>\n                <Route path=\"/game/:id\" render={() => {\n                    return this.user.loggedIn() ?\n                        <Game user={this.user}/> :\n                        <Redirect to={'/login'}/>;\n                }}/>\n                <Route path=\"/results/:id\" render={props => <Results user={this.user}/>}/>\n            </div>\n        </BrowserRouter>;\n    }\n}\n\nclass User {\n    constructor(username, primary_email) {\n        if (username && primary_email) {\n            this.data = {\n                username: username,\n                primary_email: primary_email\n            };\n        } else {\n            this.data =  {\n                username: \"\",\n                primary_email: \"\"\n            };\n        }\n    }\n\n    loggedIn() {\n        return this.data.username && this.data.primary_email;\n    }\n\n    username() {\n        return this.data.username;\n    }\n\n    logIn(router, data) {\n        // Store locally\n        this.data = data;\n        // Go to user profile\n        router.push(`/profile/${data.username}`);\n    }\n\n    logOut(router) {\n        // Remove user info\n        this.data = {\n            username: \"\",\n            primary_email: \"\"\n        };\n        // Go to login page\n        router.push('/login');\n    }\n\n    getUser() {\n        return this.data;\n    }\n}\n\nrender(\n    <MyApp/>,\n    document.getElementById('mainDiv')\n);\n\n\n\n// WEBPACK FOOTER //\n// ./main.js","/* Copyright G. Hemingway, 2017 - All rights reserved */\n'use strict';\n\n\nimport React     from 'react';\n\n/*************************************************************************/\n\nconst Landing = () => <div>\n        <div className=\"row\">\n            <h3 className=\"col-sm-offset-2 col-xs-8\">This is my landing page!</h3>\n        </div>\n    </div>;\n\nexport default Landing;\n\n\n\n// WEBPACK FOOTER //\n// ./components/landing.js","/* Copyright G. Hemingway, 2017 - All rights reserved */\n'use strict';\n\n\nimport React, { Component }     from 'react';\nimport { withRouter }           from 'react-router-dom';\n\n/*************************************************************************/\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    onSubmit(ev) {\n        ev.preventDefault();\n        const data = {\n            username: document.getElementById('username').value,\n            password: document.getElementById('password').value\n        };\n        $.ajax({\n            url: \"/v1/session\",\n            method: \"post\",\n            data: data\n        }).then(data => {\n            this.props.user.logIn(this.props.history, data);\n        })\n        .fail(err => {\n            let errorEl = document.getElementById('errorMsg');\n            errorEl.innerHTML = `Error: ${err.responseJSON.error}`;\n        });\n    }\n\n    render() {\n        return <div className=\"row\">\n            <div className=\"col-xs-2\"/>\n            <div className=\"col-xs-8\">\n                <div className=\"center-block\">\n                    <p id=\"errorMsg\" className=\"bg-danger\"/>\n                </div>\n                <form className=\"form-horizontal\">\n                    <div className=\"form-group\">\n                        <label className=\"col-sm-2 control-label\" htmlFor=\"username\">Username:</label>\n                        <div className=\"col-sm-10\">\n                            <input className=\"form-control\" id=\"username\" type=\"text\" placeholder=\"Username\"/>\n                        </div>\n                    </div>\n                    <div className=\"form-group\">\n                        <label className=\"col-sm-2 control-label\" htmlFor=\"password\">Password:</label>\n                        <div className=\"col-sm-10\">\n                            <input className=\"form-control\" id=\"password\" type=\"password\" placeholder=\"Password\"/>\n                        </div>\n                    </div>\n                    <div className=\"form-group\">\n                        <div className=\"col-sm-offset-2 col-sm-10\">\n                            <button className=\"btn btn-default\" onClick={this.onSubmit}>Login</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div className=\"col-xs-2\"/>\n        </div>\n    };\n}\n\nexport default withRouter(Login);\n\n\n// WEBPACK FOOTER //\n// ./components/login.js","/* Copyright G. Hemingway, 2017 - All rights reserved */\n'use strict';\n\n\nimport React, { Component }     from 'react';\nimport { withRouter }           from 'react-router-dom';\n\n/*************************************************************************/\n\nexport class Logout extends Component {\n    componentWillMount() {\n        this.props.user.logOut(this.props.history);\n    }\n\n    render() {\n        return <div/>;\n    }\n}\n\nexport default withRouter(Logout);\n\n\n\n// WEBPACK FOOTER //\n// ./components/logout.js","/* Copyright G. Hemingway, 2017 - All rights reserved */\n'use strict';\n\n\nimport React, { Component }     from 'react';\nimport { withRouter }           from 'react-router';\n\n/*************************************************************************/\n\nclass Register extends Component {\n    constructor(props) {\n        super(props);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    static validPassword(password) {\n        if (!password || password.length < 8) {\n            return { error: 'password length must be > 7' };\n        }\n        else if (!password.match(/[0-9]/i)) {\n            return { error: 'password must contain a number' };\n        }\n        else if (!password.match(/[a-z]/)) {\n            return { error: 'password a lowercase letter' };\n        }\n        else if (!password.match(/\\@|\\!|\\#|\\$|\\%|\\^/i)) {\n            return { error: 'password must contain @, !, #, $, % or ^' };\n        }\n        else if (!password.match(/[A-Z]/)) {\n            return { error: 'password an uppercase letter' };\n        }\n        return undefined;\n    }\n\n    onSubmit(ev) {\n        ev.preventDefault();\n        const data = {\n            username:       document.getElementById('username').value,\n            first_name:     document.getElementById('first_name').value,\n            last_name:      document.getElementById('last_name').value,\n            city:           document.getElementById('city').value,\n            primary_email:  document.getElementById('primary_email').value,\n            password:       document.getElementById('password').value\n        };\n        let $error = $('#errorMsg');\n        let pwdInvalid = Register.validPassword(data.password);\n        if (!data.username || data.username.length > 16 || data.username.length < 6 || !data.username.match(/^[a-z0-9]+$/i)) {\n            $error.html('Error: malformed username');\n        } else if (pwdInvalid) {\n            $error.html(`Error: ${pwdInvalid.error}`);\n        } else $.ajax({\n            url: \"/v1/user\",\n            method: \"post\",\n            data: data\n        })\n            .then(() => {\n                this.props.history.push('/login');\n            })\n            .fail(err => {\n                let errorEl = document.getElementById('errorMsg');\n                errorEl.innerHTML = `Error: ${err.responseJSON.error}`;\n            });\n    }\n\n    render() {\n        return <div className=\"row\">\n            <div className=\"col-xs-2\"/>\n            <div className=\"col-xs-8\">\n                <div className=\"center-block\">\n                    <p id=\"errorMsg\" className=\"bg-danger\"/>\n                </div>\n                <form className=\"form-horizontal\">\n                    <div className=\"form-group\">\n                        <label className=\"col-sm-2 control-label\" htmlFor=\"username\">Username:</label>\n                        <div className=\"col-sm-10\">\n                            <input className=\"form-control\" id=\"username\" type=\"text\" placeholder=\"Username\"/>\n                        </div>\n                    </div>\n                    <div className=\"form-group\">\n                        <label className=\"col-sm-2 control-label\" htmlFor=\"first_name\">First Name:</label>\n                        <div className=\"col-sm-10\">\n                            <input className=\"form-control\" id=\"first_name\" type=\"text\" placeholder=\"First Name\"/>\n                        </div>\n                    </div>\n                    <div className=\"form-group\">\n                        <label className=\"col-sm-2 control-label\" htmlFor=\"last_name\">Last Name:</label>\n                        <div className=\"col-sm-10\">\n                            <input className=\"form-control\" id=\"last_name\" type=\"text\" placeholder=\"Last Name\"/>\n                        </div>\n                    </div>\n                    <div className=\"form-group\">\n                        <label className=\"col-sm-2 control-label\" htmlFor=\"city\">City:</label>\n                        <div className=\"col-sm-10\">\n                            <input className=\"form-control\" id=\"city\" type=\"text\" placeholder=\"City\"/>\n                        </div>\n                    </div>\n                    <div className=\"form-group\">\n                        <label className=\"col-sm-2 control-label\" htmlFor=\"primary_email\">Email:</label>\n                        <div className=\"col-sm-10\">\n                            <input className=\"form-control\" id=\"primary_email\" type=\"email\" placeholder=\"Email Address\"/>\n                        </div>\n                    </div>\n                    <div className=\"form-group\">\n                        <label className=\"col-sm-2 control-label\" htmlFor=\"password\">Password:</label>\n                        <div className=\"col-sm-10\">\n                            <input className=\"form-control\" id=\"password\" type=\"password\" placeholder=\"Password\"/>\n                        </div>\n                    </div>\n                    <div className=\"form-group\">\n                        <div className=\"col-sm-offset-2 col-sm-10\">\n                            <button onClick={this.onSubmit} className=\"btn btn-default\">Register</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div className=\"col-xs-2\"/>\n        </div>\n    };\n}\n\nexport default withRouter(Register);\n\n\n\n// WEBPACK FOOTER //\n// ./components/register.js","/* Copyright G. Hemingway, 2017 - All rights reserved */\n'use strict';\n\n\nimport React, { Component }             from 'react';\nimport { Link, withRouter }             from 'react-router-dom';\nimport { GravHash }                     from './header';\n\n/*************************************************************************/\n\nconst Game = ({ game, index }) => {\n    let date = new Date(game.start);\n    const url = game.active ? `/game/${game.id}` : `/results/${game.id}`;\n    return <tr key={index}>\n        <th><Link to={url}>{game.active ? \"Active\" : \"Complete\"}</Link></th>\n        <th>{date.toLocaleString()}</th>\n        <th>{game.moves}</th>\n        <th>{game.score}</th>\n        <th>{game.game}</th>\n    </tr>;\n};\n\nclass Profile extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user: {\n                primary_email: \"\",\n                games: []\n            }\n        }\n    }\n\n    fetchUser(username) {\n        $.ajax({\n            url: `/v1/user/${username}`,\n            method: \"get\"\n        })\n            .then(data => {\n                this.setState({ user: data });\n            })\n            .fail(err => {\n                let errorEl = document.getElementById('errorMsg');\n                errorEl.innerHTML = `Error: ${err.responseJSON.error}`;\n            });\n    }\n\n    componentDidMount() {\n        this.fetchUser(this.props.match.params.username);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.fetchUser(nextProps.match.params.username);\n    }\n\n    render() {\n        // Is the logged in user viewing their own profile\n        const isUser = this.props.match.params.username === this.props.user.getUser().username;\n        // Build array of games\n        let games = this.state.user.games.map((game, index) => (\n            <Game key={index} game={game} index={index}/>\n        ));\n        return <div className=\"row\">\n            <div className=\"center-block\">\n                <p id=\"errorMsg\" className=\"bg-danger\"/>\n            </div>\n            <div className=\"col-xs-2\">\n                <h4>Player Profile</h4>\n                { isUser ? <Link to={`/profile/${this.props.match.params.username}/edit`}>Edit Profile</Link> : undefined }\n            </div>\n            <div className=\"col-xs-8\">\n                <div className=\"row\">\n                    <div className=\"col-xs-1\">\n                        <img src={GravHash(this.state.user.primary_email, 100)}/>\n                    </div>\n                    <div className=\"col-xs-11\">\n                        <div className=\"col-xs-6 text-right\">\n                            <p><b>Username:</b></p>\n                            <p><b>First Name:</b></p>\n                            <p><b>Last Name:</b></p>\n                            <p><b>City:</b></p>\n                            <p><b>Email Address:</b></p>\n                        </div>\n                        <div className=\"col-xs-6\">\n                            <p>{this.state.user.username}</p>\n                            <p>{this.state.user.first_name}</p>\n                            <p>{this.state.user.last_name}</p>\n                            <p>{this.state.user.city}</p>\n                            <p>{this.state.user.primary_email}</p>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-xs-12\">\n                        <h4 id=\"games_count\">Games Played ({this.state.user.games.length}):</h4>\n                        { isUser ? <Link to=\"/start\">Start new game</Link> : undefined }\n                    </div>\n                    <table id=\"gameTable\" className=\"col-xs-12 table\">\n                        <thead>\n                        <tr>\n                            <th>Status</th>\n                            <th>Start Date</th>\n                            <th># of moves</th>\n                            <th>Score</th>\n                            <th>Game Type</th>\n                        </tr>\n                        </thead>\n                        <tbody>{games}</tbody>\n                    </table>\n                </div>\n            </div>\n        </div>;\n    }\n}\n\nexport default withRouter(Profile);\n\n\n// WEBPACK FOOTER //\n// ./components/profile.js","/* Copyright G. Hemingway, 2017 - All rights reserved */\n'use strict';\n\n\nimport React, { Component }     from 'react';\nimport { withRouter }           from 'react-router';\n\n/*************************************************************************/\n\nclass Start extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            games: ['klondike', 'pyramid', 'canfield', 'golf', 'yukon', 'hearts'],\n            selected: 'klondike'\n        };\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onChange = this.onChange.bind(this);\n    }\n\n    onSubmit(ev) {\n        ev.preventDefault();\n        const data = {\n            game: this.state.selected,\n            draw: document.getElementById('draw').value,\n            color: document.getElementById('color').value\n        };\n        $.ajax({\n            url: \"/v1/game\",\n            method: \"post\",\n            data: data\n        }).then(data => {\n            this.props.history.push(`/game/${data.id}`);\n        }).fail(err => {\n            let errorEl = document.getElementById('errorMsg');\n            errorEl.innerHTML = `Error: ${err.responseJSON.error}`;\n        });\n    }\n\n    onChange(ev) {\n        if(this.state.selected !== ev.target.value) {\n            this.setState({ selected: ev.target.value });\n        }\n    }\n\n    render() {\n        const games = this.state.games.map((game, index) => {\n            return <div key={index} className=\"radio\">\n                <label>\n                    <input type=\"radio\" name=\"game\" value={game} checked={game === this.state.selected} onChange={this.onChange}/>\n                    {game}\n                </label>\n            </div>\n        });\n        return <div className=\"row\">\n            <div className=\"col-xs-2\"/>\n            <div className=\"col-xs-8\">\n                <div className=\"center-block\">\n                    <p id=\"errorMsg\" className=\"bg-danger\"/>\n                </div>\n                <h4>Create New Game</h4>\n                <form className=\"form-horizontal\" action=\"/start\" method=\"post\">\n                    <div className=\"form-group col-xs-4\">{games}</div>\n                    <div className=\"form-group col-xs-8\">\n                        <div className=\"row\">\n                            <div className=\"col-xs-12\">\n                                <label className=\"control-label\" htmlFor=\"draw\">Draw:</label>\n                                <select id=\"draw\" name=\"draw\" className=\"form-control\" disabled={'hearts' === this.state.selected}>\n                                    <option>Draw 1</option>\n                                    <option>Draw 3</option>\n                                </select>\n                            </div>\n                            <div className=\"col-xs-12\">\n                                <label className=\"control-label\" htmlFor=\"color\">Card Color:</label>\n                                <select id=\"color\" name=\"color\" className=\"form-control\">\n                                    <option>Red</option>\n                                    <option>Green</option>\n                                    <option>Blue</option>\n                                    <option>Magical</option>\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"form-group col-xs-12\">\n                        <button className=\"btn btn-default\" onClick={this.onSubmit}>Start</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    }\n}\n\nexport default withRouter(Start);\n\n\n\n// WEBPACK FOOTER //\n// ./components/start.js","/* Copyright G. Hemingway, 2017 - All rights reserved */\n'use strict';\n\nimport React, { Component }         from 'react';\nimport { withRouter, Link }         from 'react-router-dom';\n\n/*************************************************************************/\n\nconst Move = ({ move, index }) => {\n    const duration = Date.now() - move.date;\n    return <tr>\n        <th>{move.id ? move.id : index + 1}</th>\n        <th>{duration} seconds</th>\n        <th><Link to={`/profile/${move.player}`}>{move.player}</Link></th>\n        <th>{move.move}</th>\n    </tr>\n};\n\nclass Results extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            game: {\n                moves: []\n            }\n        }\n    }\n\n    componentDidMount() {\n        $.ajax({ url: `/v1/game/${this.props.match.params.id}`})\n            .then(data => {\n                this.setState({ game: data });\n            }).fail(err => {\n                let errorEl = document.getElementById('errorMsg');\n                errorEl.innerHTML = `Error: ${err.responseJSON.error}`;\n            });\n    }\n\n    render() {\n        let moves = this.state.game.moves.map((move, index) => (\n            <Move key={index} move={move} index={index}/>\n        ));\n        const duration = this.state.game.start ? (Date.now() - this.state.game.start) / 1000 : '--';\n        return <div className=\"row\">\n            <div className=\"center-block\">\n                <p id=\"errorMsg\" className=\"bg-danger\"/>\n            </div>\n            <div className=\"col-xs-2\"><h4>Game Detail</h4></div>\n            <div className=\"col-xs-10\">\n                <div className=\"row\">\n                    <div className=\"col-xs-3 text-right\">\n                        <p><b>Duration:</b></p>\n                        <p><b>Number of Moves:</b></p>\n                        <p><b>Points:</b></p>\n                        <p><b>Cards Remaining:</b></p>\n                        <p><b>Able to Move:</b></p>\n                    </div>\n                    <div className=\"col-xs-6\">\n                        <p>{duration} seconds</p>\n                        <p>{this.state.game.moves.length}</p>\n                        <p>{this.state.game.score}</p>\n                        <p>{this.state.game.cards_remaining}</p>\n                        <p>{this.state.game.active? \"Active\" : \"Complete\"}</p>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <table id=\"gameTable\" className=\"col-xs-12 table\">\n                        <thead>\n                        <tr>\n                            <th>Id</th>\n                            <th>Duration</th>\n                            <th>Player</th>\n                            <th>Move Details</th>\n                        </tr>\n                        </thead>\n                        <tbody>{moves}</tbody>\n                    </table>\n                </div>\n            </div>\n        </div>;\n    }\n}\n\nexport default withRouter(Results);\n\n\n\n// WEBPACK FOOTER //\n// ./components/results.js","/* Copyright G. Hemingway, 2017 - All rights reserved */\n'use strict';\n\n\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router';\n\n/*************************************************************************/\n\nimport { Pile } from './pile';\n\nclass Game extends Component { // TODO make draw count configurable\n    constructor(props) {\n        super(props);\n        this.state = {\n            selected: null,\n            startDrag: { x: 0, y: 0 },\n            pile1: [],\n            pile2: [],\n            pile3: [],\n            pile4: [],\n            pile5: [],\n            pile6: [],\n            pile7: [],\n            stack1: [],\n            stack2: [],\n            stack3: [],\n            stack4: [],\n            draw: [],\n            discard: [],\n        };\n\n        this.onClick = this.onBackgroundClick.bind(this);\n        this.onTableauPileClick = this.onTableauPileClick.bind(this);\n        this.onFoundationPileClick = this.onFoundationPileClick.bind(this);\n        this.onDrawPileClick = this.onDrawPileClick.bind(this);\n        this.onDiscardPileClick = this.onDiscardPileClick.bind(this);\n        this.onBackgroundClick = this.onBackgroundClick.bind(this);\n        this.verifyMoveToTableau = this.verifyMoveToTableau.bind(this);\n        this.verifyMoveToFoundation = this.verifyMoveToFoundation.bind(this);\n        this.validateAndMakeMove = this.validateAndMakeMove.bind(this);\n        this.onAutocompleteClick = this.onAutocompleteClick.bind(this);\n        this.autocomplete = this.autocomplete.bind(this);\n    }\n\n    validateAndMakeMove(move) {\n        this.setState({ selected: null });\n        \n        // Send move to server to be validated\n        return $.ajax({\n                url: `/v1/game/${this.props.match.params.id}`,\n                method: \"put\",\n                data: { move: move }\n            }).then(newState => {\n                this.setState(newState);\n            }).fail(err => {\n                console.log('Error making move');\n                console.log(err.error);\n            });\n    }\n\n    componentDidMount() {\n        $.ajax({\n            url: `/v1/game/${this.props.match.params.id}`\n        }).then(data => {\n            this.setState({\n                pile1: data.pile1,\n                pile2: data.pile2,\n                pile3: data.pile3,\n                pile4: data.pile4,\n                pile5: data.pile5,\n                pile6: data.pile6,\n                pile7: data.pile7,\n                stack1: data.stack1,\n                stack2: data.stack2,\n                stack3: data.stack3,\n                stack4: data.stack4,\n                draw: data.draw,\n                discard: data.discard,\n                drawCount: data.drawCount\n            });\n        }).fail(err => {\n            // TODO: Should show a helpful error message that the game could not be found\n            console.log(err);\n        });\n    }\n\n    onBackgroundClick(ev) { // if background is clicked\n        ev.stopPropagation();\n\n        // Cancel any existing selection\n        this.setState({\n            selected: null\n        });\n         \n    }\n\n    onDrawPileClick(ev) { // one click, no need for separate from/to handling\n        ev.stopPropagation(); // prevent event from bubbling up\n\n        // Check if something is already selected\n        if (this.state.selected) {\n            // Cancel selection\n            this.setState({ selected: null });\n            return;\n        }\n         \n\n        const drawPile = this.state.draw;\n        const discardPile = this.state.discard;\n\n        // Move drawCount cards (or all remaining cards, whichever is less) to discard pile\n        let num = (this.state.draw.length > this.state.drawCount) ?\n            this.state.drawCount : this.state.draw.length;\n\n        if (num !== 0) { // There are still cards left in the draw pile\n            // Create the move\n            const move = {\n                // cards[0] should be the first to be appended to the destination pile\n                cards: drawPile.slice(-1 * num).reverse().map(card => {\n                    return { suit: card.suit, value: card.value, up: true };\n                }),\n                src: \"draw\",\n                dst: \"discard\"\n            };\n\n            // Send move to server to be validated\n            this.validateAndMakeMove(move);\n\n        } else { // no cards left in the draw pile\n            const move = {\n                cards: discardPile.slice(0).reverse().map(card => {\n                    return { suit: card.suit, value: card.value, up: false };\n                }),\n                src: \"discard\",\n                dst: \"draw\"\n            }\n\n            // Send move to server to be validated\n            this.validateAndMakeMove(move);\n\n        }\n    }\n\n    onDiscardPileClick(ev) { // can only move from, not to\n        ev.stopPropagation(); // prevent event from bubbling up\n        const targetAttributes = ev.target.id.split(':');\n        const targetSuit = targetAttributes[0];\n        const targetRank = targetAttributes[1];\n        const discardPile = this.state.discard;\n\n        // Check if something is already selected\n        if (this.state.selected) {\n            // Cancel selection\n            this.setState({ selected: null });\n            return;\n        }\n         \n\n        // Otherwise, only allow the top card to be clicked\n        if (discardPile.length > 0 &&\n            targetSuit === discardPile[discardPile.length - 1].suit &&\n            targetRank === discardPile[discardPile.length - 1].value) {\n            // Select the top card\n            this.setState({\n                selected: {\n                    cards: [discardPile[discardPile.length - 1]],\n                    src: \"discard\",\n                    index: discardPile.length - 1\n                }\n            });\n             \n        }\n    }\n\n    onFoundationPileClick(ev) {\n        ev.stopPropagation(); // prevent event from bubbling up\n\n        const targetid = ev.target.id;\n        // If the target is an empty pile, the id would be the stack id (which starts with 'stack')\n        // If the target is a card, targetid would be <suit>:<rank> of the clicked card\n        const isEmptyPile = targetid.startsWith('stack');\n\n        // Which stack was clicked?\n        let thisStackId = \"\";\n        if (isEmptyPile) thisStackId = targetid;\n        else thisStackId = ev.target.dataset.pileid;\n        const thisStack = this.state[thisStackId];\n\n        // Was anything already selected?\n        const selected = this.state.selected;\n\n        // Check if something is already selected\n        if (selected) {\n\n            // Check that only 1 card is selected, and that the move is allowed\n            if (selected.cards.length === 1 &&\n                ( // either pile is empty and selected card is an ace\n                    (isEmptyPile && selected.cards[0].value === 'ace') || // or selected card has same suit & is one rank higher than the top card in the pile\n                    this.verifyMoveToFoundation(targetid.split(':')[0],\n                        targetid.split(':')[1], selected.cards[0].suit,\n                        selected.cards[0].value)\n                )\n            ) {\n                // Move is valid! Create move.\n                const move = {\n                    cards: selected.cards,\n                    src: selected.src,\n                    dst: thisStackId\n                };\n\n                // Send move to server to be validated\n                this.validateAndMakeMove(move);\n\n            } else {\n                // Cancel selection\n                this.setState({ selected: null });\n                 \n            }\n\n            return;\n        }\n\n        // Nothing was already selected, so we try to select something\n        if (!targetid.startsWith('stack')) { // make sure not an empty pile\n            this.setState({\n                selected: {\n                    cards: [thisStack[thisStack.length - 1]], // top card\n                    src: thisStackId,\n                    index: thisStack.length - 1\n                }\n            });\n             \n        }\n    }\n\n    onTableauPileClick(ev) {\n        ev.stopPropagation();\n\n        const targetid = ev.target.id;\n        const targetCardAttributes = targetid.split(':');\n        const targetCardSuit = targetCardAttributes[0];\n        const targetCardRank = targetCardAttributes[1];\n\n        // If the target is an empty pile, the id would be the stack id (which starts with 'stack')\n        // If the target is a card, targetid would be <suit>:<rank> of the clicked card\n        const isEmptyPile = targetid.startsWith('pile');\n\n        // Which pile was clicked?\n        let thisPileId = \"\";\n        if (isEmptyPile) thisPileId = targetid;\n        else thisPileId = ev.target.dataset.pileid;\n        const thisPile = this.state[thisPileId];\n\n        // Was anything already selected?\n        const selected = this.state.selected;\n\n        // Check if something is already selected\n        if (selected) {\n\n            // Check that the move is valid\n            if ( // either the pile is empty and we are moving a king there\n                (isEmptyPile && selected.cards[0].value === 'king') || // or the destination card is at the top of its pile and \n                // the root selected card can go directly below it\n                (targetCardSuit === thisPile[thisPile.length - 1].suit &&\n                    targetCardRank === thisPile[thisPile.length - 1].value &&\n                    this.verifyMoveToTableau(targetCardSuit, targetCardRank,\n                        selected.cards[0].suit, selected.cards[0].value))\n            ) {\n                // Move is valid! Create move.\n                const move = {\n                    cards: selected.cards,\n                    src: selected.src,\n                    dst: thisPileId\n                };\n\n                // Send move to server to be validated\n                this.validateAndMakeMove(move);\n\n            } else {\n                // Cancel selection\n                this.setState({ selected: null });\n                 \n            }\n\n            return;\n        }\n\n        // Nothing was already selected, so we try to select something.\n        // Find where the clicked Card is in the pile\n        let index = -1;\n        for (let i = 0; i < thisPile.length; ++i) {\n            if (thisPile[i].suit === targetCardSuit &&\n                thisPile[i].value === targetCardRank) {\n                index = i;\n                break;\n            }\n        }\n\n        if (index >= 0 && thisPile[index].up) { // clicked card must be face up\n            this.setState({\n                selected: {\n                    // cards south of (in front of) and including the clicked card in the pile;\n                    // cards[0] should be the first card to be put down on the destination pile\n                    cards: thisPile.slice(index),\n                    src: thisPileId,\n                    index: index // index of the bottommost card to be moved\n                }\n            });\n             \n\n        }\n    }\n\n    // bottomCardSuit, bottomCardRank, topCardSuit, and topCardRank\n    // should both be strings representing the suits and ranks of the \n    // two respective cards.\n    // Returns true if the cards have the same suit and topCard is one\n    // rank higher than bottomcard.\n    verifyMoveToFoundation(bottomCardSuit, bottomCardRank, topCardSuit, topCardRank) {\n        if (bottomCardSuit != topCardSuit)\n            return false; // false if suits are different\n        const ranks = ['ace', '2', '3', '4', '5', '6', '7', '8', '9', '10',\n            'jack', 'queen', 'king'\n        ];\n        const nextIndex = ranks.indexOf(bottomCardRank) + 1;\n        if (nextIndex <= 0 && nextIndex >= ranks.length)\n            return false; // false if higher index is invalid\n        return ranks[nextIndex] === topCardRank; // verify correct rank\n    }\n\n    // higherCardSuit, higherCardRank, lowerCardSuit and lowerCardRank \n    // should both be strings representing the suits and ranks of the \n    // two respective cards.\n    // Returns true if higherCard is of the opposite color and one rank \n    // higher than lowerCard, false otherwise.\n    verifyMoveToTableau(higherCardSuit, higherCardRank, lowerCardSuit, lowerCardRank) {\n\n        // Check colors\n        const redSuits = ['diamonds', 'hearts'];\n        const blackSuits = ['spades', 'clubs'];\n        if ((redSuits.includes(higherCardSuit) && redSuits.includes(lowerCardSuit)) ||\n            (blackSuits.includes(higherCardSuit) && blackSuits.includes(lowerCardSuit)))\n            return false; // false if both red or both black\n\n        // Check ranks\n        const ranks = ['ace', '2', '3', '4', '5', '6', '7', '8', '9', '10',\n            'jack', 'queen', 'king'\n        ];\n        const nextIndex = ranks.indexOf(lowerCardRank) + 1;\n        if (nextIndex <= 0 || nextIndex >= ranks.length)\n            return false; // false if higher index is invalid\n        return ranks[nextIndex] === higherCardRank; // verify correct rank\n    }\n\n    onAutocompleteClick(ev) {\n        ev.stopPropagation();\n        this.autocomplete();        \n    }\n\n    autocomplete() {\n        // Fetch all possible moves from current state\n        $.ajax({\n            url: '/v1/moves',\n            method: \"get\",\n            data: { state: JSON.stringify(this.state), drawCount: this.state.drawCount }\n        })\n        .then(moves => {\n\n            // Select the moves from tableau to foundation \n            let autocompleteMoves = moves.filter(move =>\n                !move.src.startsWith('stack') && move.dst.startsWith('stack'));\n\n            // If there are no moves from tableau to foundation, we are done\n            if (autocompleteMoves.length === 0) return; \n\n            // Make all the moves from tableau to foundation, then autocomplete again\n            this.validateAndMakeMove(autocompleteMoves[0])\n                .then(() => setTimeout(() => this.autocomplete(), 300))\n                .fail(() => console.log('Autocomplete move failed'));\n\n        }).fail(err => {\n            console.log('Error fetching possible moves');\n            console.log(err.error);\n        });\n    }\n\n\n    render() {\n        return <div onClick={this.onBackgroundClick}>\n            <div>\n                <button type='button' onClick={this.onAutocompleteClick}>Autocomplete</button>\n            </div>\n            <div className=\"card-row\">\n                <Pile\n                    pileId = {'stack1'}\n                    cards={this.state.stack1.slice(-1)}\n                    spacing={0}\n                    onClick={this.onFoundationPileClick}\n                />\n                <Pile\n                    pileId = {'stack2'}\n                    cards={this.state.stack2.slice(-1)}\n                    spacing={0}\n                    onClick={this.onFoundationPileClick}\n                />\n                <Pile\n                    pileId = {'stack3'}\n                    cards={this.state.stack3.slice(-1)}\n                    spacing={0}\n                    onClick={this.onFoundationPileClick}\n                />\n                <Pile\n                    pileId = {'stack4'}\n                    cards={this.state.stack4.slice(-1)}\n                    spacing={0}\n                    onClick={this.onFoundationPileClick}\n                />\n                <div className=\"card-row-gap\"/>\n                <Pile\n                    cards={this.state.draw.slice(-1)}\n                    spacing={0}\n                    onClick={this.onDrawPileClick}\n                />\n                <Pile\n                    cards={this.state.discard.slice(-1 * this.state.drawCount)}\n                    horizontal={true}\n                    onClick={this.onDiscardPileClick}\n                />\n            </div>\n            <div className=\"card-row\">\n                <Pile pileId = {'pile1'} cards={this.state.pile1} onClick={this.onTableauPileClick}/>\n                <Pile pileId = {'pile2'} cards={this.state.pile2} onClick={this.onTableauPileClick}/>\n                <Pile pileId = {'pile3'} cards={this.state.pile3} onClick={this.onTableauPileClick}/>\n                <Pile pileId = {'pile4'} cards={this.state.pile4} onClick={this.onTableauPileClick}/>\n                <Pile pileId = {'pile5'} cards={this.state.pile5} onClick={this.onTableauPileClick}/>\n                <Pile pileId = {'pile6'} cards={this.state.pile6} onClick={this.onTableauPileClick}/>\n                <Pile pileId = {'pile7'} cards={this.state.pile7} onClick={this.onTableauPileClick}/>\n            </div>\n        </div>\n    }\n}\n\n\nexport default withRouter(Game);\n\n\n// WEBPACK FOOTER //\n// ./components/game.js","/* Copyright G. Hemingway, 2017 - All rights reserved */\n'use strict';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {} from './card.css';\n\n/*************************************************************************/\n\nexport const Card = ({ card, top, left, onClick, pileId }) => {\n    if (card.up == 'true') card.up = true;\n    else if (card.up == 'false') card.up = false;\n    const source = card.up ? `/images/${card.value}_of_${card.suit}.png` : \"/images/face_down.jpg\";\n    const style = { left: `${left}%`, top: `${top}%` };\n    const id = `${card.suit}:${card.value}`;\n    return <img\n    id = { id }\n    onClick = { onClick }\n    className = \"card\"\n    style = { style }\n    src = { source }\n    data-pileid = { pileId } // used to identify the pile when clicked\n    />;\n};\n\nexport class Pile extends Component {\n    render() {\n        const cards = this.props.cards.map((card, index) => {\n            let top = this.props.horizontal ? 0 : index * this.props.spacing;\n            let left = this.props.horizontal ? index * this.props.spacing : 0;\n            return <Card\n            key = { index }\n            card = { card }\n            up = { this.props.up }\n            top = { top }\n            left = { left }\n            onClick = { this.props.onClick }\n            pileId = { this.props.pileId }\n            />;\n        });\n        const className = this.props.className ?\n            \"card-pile \" + this.props.className :\n            \"card-pile\";\n        return <div onClick = { this.props.onClick } id = { this.props.pileId } className = { className }>\n            <div className = \"card-pile-frame\"/> { cards } \n        </div>;\n    }\n}\n\nPile.propTypes = {\n    cards: PropTypes.arrayOf(PropTypes.object).isRequired,\n    onClick: PropTypes.func,\n    horizontal: PropTypes.bool,\n    spacing: PropTypes.number,\n    maxCards: PropTypes.number,\n    top: PropTypes.number,\n    left: PropTypes.number\n};\nPile.defaultProps = {\n    horizontal: false, // Layout horizontal?\n    spacing: 17 // In percent\n};\n\n\n// WEBPACK FOOTER //\n// ./components/pile.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js!./card.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!./card.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!./card.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/card.css\n// module id = 252\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".card-row {\\n    position: relative;\\n    display: flex;\\n    flex-direction: row;\\n    flex-wrap: nowrap;\\n    justify-content: center;\\n    align-items: flex-start;\\n    margin-bottom: 2em;\\n    margin-right: 100px;\\n}\\n\\n.card-row-gap {\\n    flex-grow: 2;\\n}\\n\\n.card-pile {\\n    margin: 5px;\\n    position: relative;\\n    display: inline-block;\\n    border: dashed 2px #808080;\\n    border-radius: 5px;\\n    width: 12%;\\n}\\n\\n.card-pile-frame {\\n    margin-top: 140%;\\n}\\n\\nimg.card {\\n    position: absolute;\\n    height: auto;\\n    width: 100%;\\n}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/anne/cs4288/assignment6-anne-zou/node_modules/css-loader!./components/card.css\n// module id = 253\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./app.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./app.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./app.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app.css\n// module id = 255\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".navbar-static-top {\\n    margin-left: -14px;\\n    margin-right: -24px;\\n}\\n\\n.right-nav {\\n    text-align: right;\\n    padding-top: 10px;\\n    padding-right: 20px;\\n}\\n\\n.right-nav a {\\n    display: block;\\n}\\n\\ntable#gameTable tbody tr:hover {\\n    background: #6495ed;\\n    cursor: pointer;\\n}\\n\\n#errorMsg {\\n    text-align: center;\\n}\\n\\n.header {\\n    float: right;\\n}\\n\\n.header img {\\n    border-radius: 5px;\\n    margin: 10px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/anne/cs4288/assignment6-anne-zou/node_modules/css-loader!./app.css\n// module id = 256\n// module chunks = 0"],"sourceRoot":""}